<%- include ('../public/page_header.ejs') %>

    <div class="container-fluid">
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">
                    增加属性
                </div>
                <div class="panel-body">
                    <div class="table-responsive input-form">
                        <form action="/<%=config.adminPath%>/goodsTypeAttribute/doAdd?id=<%=goodsTypeItem._id%>"
                            method="post">
                            <ul>
                                <li> 属性名称: <input type="text" name="title" /></li>
                                <li>
                                    所属类型:
                                    <select name="cate_id" id="cate_id">
                                        <%for(var i=0; i<goodsTypes.length; i++){%>
                                            <option <%if(goodsTypes[i]._id.toString()==goodsTypeItem._id.toString()){%> selected <%}%> value="<%=goodsTypes[i]._id%>"><%=goodsTypes[i].title%></option>
                                            <%}%>
                                    </select>
                                </li>
                                <li>
                                    录入方式:
                                    <label for="radio1">
                                        <input id="radio1" type="radio" name="attr_type" value="1" checked>单行文本框
                                    </label>
                                    <label for="radio2">
                                        <input id="radio2" type="radio" name="attr_type" value="2">多行文本框
                                    </label>
                                    <label for="radio3">
                                        <input id="radio3" type="radio" name="attr_type" value="3">从下面的列表中选择（一行代表一个可选值）
                                    </label>
                                </li>

                                <li>
                                    可选值列表：
                                    <textarea name="attr_value" id="attr_value" cols="30" rows="10" disabled></textarea>
                                </li>

                                <li>
                                    <br />
                                    <button type="submit" class="btn btn-default">提交</button>
                                </li>
                            </ul>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </body>
    <script>
        $("input[name='attr_type']").change(function () {
            let value = $(this).val();
            console.log(value);
            if (value == 3) {
                $("#attr_value").attr('disabled', false);
            } else {
                $("#attr_value").attr('disabled', true);
            }
        });
    </script>

    </html>